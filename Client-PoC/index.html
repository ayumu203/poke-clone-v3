<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PoC Battle Client</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>ポケモンバトル (PoC)</h1>
            <div class="connection-status">
                接続状態: <span id="connection-status">未接続</span>
            </div>
        </header>

        <!-- 3列レイアウト -->
        <div class="flex">
            <!-- 左列: プレイヤー情報 -->
            <div class="left">
                <h2>自分</h2>
                <table>
                    <caption>プレイヤーポケモン</caption>
                    <tr>
                        <th>項目</th>
                        <th>値</th>
                    </tr>
                    <tr>
                        <td>ポケモン</td>
                        <td><span id="player-name">---</span></td>
                    </tr>
                    <tr>
                        <td>レベル</td>
                        <td>Lv.<span id="player-level">--</span></td>
                    </tr>
                    <tr>
                        <td>HP</td>
                        <td><span id="player-hp-current">--</span> / <span id="player-hp-max">--</span></td>
                    </tr>
                </table>
                <div class="hp-bar-container">
                    <div class="hp-bar">
                        <div id="player-hp-bar" class="hp-fill" style="width: 100%"></div>
                    </div>
                </div>
            </div>

            <!-- 中央列: 対戦情報 -->
            <div class="middle">
                <h2>アクション</h2>
                <div class="moves-grid">
                    <button class="move-button" id="move-0" disabled>技1</button>
                    <button class="move-button" id="move-1" disabled>技2</button>
                    <button class="move-button" id="move-2" disabled>技3</button>
                    <button class="move-button" id="move-3" disabled>技4</button>
                </div>
                <div class="action-buttons">
                    <button class="action-button" id="catch-button" disabled>捕獲</button>
                    <button class="action-button" id="escape-button" disabled>逃走</button>
                </div>

                <div class="connect-section">
                    <h3>接続設定</h3>
                    <div class="input-group">
                        <label>API URL:</label>
                        <input type="text" id="api-url" value="http://localhost:5000" />
                    </div>
                    <div class="input-group">
                        <label>Battle ID:</label>
                        <input type="text" id="battle-id" placeholder="battle-uuid-1234" />
                    </div>
                    <div class="input-group">
                        <label>Player ID:</label>
                        <input type="text" id="player-id" placeholder="player1" />
                    </div>
                    <button class="connect-button" id="connect-button">バトルに接続</button>
                </div>

                <div class="battle-log-section">
                    <h3>バトルログ</h3>
                    <div id="battle-log" class="battle-log"></div>
                </div>
            </div>

            <!-- 右列: 相手プレイヤー情報 -->
            <div class="right">
                <h2>相手</h2>
                <table>
                    <caption>相手ポケモン</caption>
                    <tr>
                        <th>項目</th>
                        <th>値</th>
                    </tr>
                    <tr>
                        <td>ポケモン</td>
                        <td><span id="opponent-name">---</span></td>
                    </tr>
                    <tr>
                        <td>レベル</td>
                        <td>Lv.<span id="opponent-level">--</span></td>
                    </tr>
                    <tr>
                        <td>HP</td>
                        <td><span id="opponent-hp-current">--</span> / <span id="opponent-hp-max">--</span></td>
                    </tr>
                </table>
                <div class="hp-bar-container">
                    <div class="hp-bar">
                        <div id="opponent-hp-bar" class="hp-fill" style="width: 100%"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/7.0.0/signalr.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="app.js?v=4"></script>
</body>

</html>