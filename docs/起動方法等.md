# 各種起動方法

## コンテナの起動

```bash
# コンテナをビルドして起動
docker compose up -d --build
# ログを確認
docker compose logs -f app
```

## データの注入

```bash
# すべてのデータをシード（第1世代全体）
docker compose run --rm app --seed --species --start 1 --end 151
docker compose run --rm app --seed --moves --start 1 --end 165
```

## コンテナの停止・削除

```bash
# コンテナの停止
docker compose stop

# コンテナの停止と削除
docker compose down

# コンテナ、ボリューム、ネットワークをすべて削除（データも削除される）
docker compose down -v
```

## APIの確認

アプリケーションが起動したら、以下のURLでSwagger UIにアクセスできます:

- <http://localhost:5000/swagger/index.html>

## データベースの確認

```bash
# データ件数を確認（PokemonSpecies）
docker exec -it pokeclone_db /opt/mssql-tools18/bin/sqlcmd -S localhost -U sa -P 'Your_Password123!' -d PokeCloneDb -C -Q "SELECT COUNT(*) AS TotalCount FROM PokemonSpecies"

# データ件数を確認（Moves）
docker exec -it pokeclone_db /opt/mssql-tools18/bin/sqlcmd -S localhost -U sa -P 'Your_Password123!' -d PokeCloneDb -C -Q "SELECT COUNT(*) AS TotalCount FROM Moves"

# 最初の5件を確認（PokemonSpecies）
docker exec -it pokeclone_db /opt/mssql-tools18/bin/sqlcmd -S localhost -U sa -P 'Your_Password123!' -d PokeCloneDb -C -Q "SELECT TOP 5 * FROM PokemonSpecies ORDER BY PokemonSpeciesId"

# 最初の5件を確認（Moves）
docker exec -it pokeclone_db /opt/mssql-tools18/bin/sqlcmd -S localhost -U sa -P 'Your_Password123!' -d PokeCloneDb -C -Q "SELECT TOP 5 * FROM Moves ORDER BY MoveId"
```

### データのシード（ローカル）

```bash
cd server
# ポケモン種族データのシード（第1世代: 1-151）
dotnet run -- --seed --species --start 1 --end 151

# 技データのシード（第1世代の技: 1-165）
dotnet run -- --seed --moves --start 1 --end 165
```
